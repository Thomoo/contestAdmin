<div data-ng-controller="VerwaltungController" data-ng-init="find()">

	<h1>Teilnehmerverwaltung</h1>

    <form>
        <fieldset class="competitorFilterInputGroup well well-sm">
            <legend>Filter</legend>
            <table>
                <tr>
                    <td><label for="searchStartNbr">Startnummer</label></td>
                    <td><input class="inputSearchStartNbr form-control" id="searchStartNbr" maxlength="5"></td>
                    <td><label for="searchTxt">Suchtext</label></td>
                    <td><input class="inputSearchTxt form-control" id="searchTxt"></td>
                </tr>
            </table>
        </fieldset>
    </form>

	<br />
	&nbsp;
	<br />


    <table class="table table-bordered table-hover table-striped">
        <tr>
            <th>Start-Nr.</th>
            <th>Name</th>
            <th>Vorname</th>
            <th>Jahrgang</th>
            <th>Geschlecht</th>
            <th>Ort</th>
            <th>Verein</th>
            <th></th>
        </tr>
        <tr ng-repeat="competitor in competitors">
            <td>
                  {{ competitor.startnr }}
            </td>
            <td>
                  {{ competitor.name }}
            </td>
            <td>
                  {{ competitor.firstname }}
            </td>
            <td>
                  {{ competitor.birthdate | date:'yyyy' }}
            </td>
            <td>
                  {{ showGender(competitor) }}
            </td>
            <td>
                  {{ competitor.location }}
            </td>
            <td>
                  {{ competitor.society }}
            </td>
            <td style="white-space: nowrap">
                <form editable-form name="rowform" onbeforesave="saveCompetitor($data, competitor)" ng-show="rowform.$visible" class="form-buttons form-inline" shown="inserted == competitor">
                    <button type="submit" ng-disabled="rowform.$waiting" class="btn btn-primary">
                        save
                    </button>
                    <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn btn-default">
                        cancel
                    </button>
                </form>
                <div class="buttons" ng-show="!rowform.$visible">
                    <button class="btn btn-primary" ng-click="navigateToDetails(competitor)">Editieren</button>
                    <span data-ng-if="true || hasAuthorization(competitor)">
                        <button class="btn btn-primary" ng-click="generateStartNbr(competitor)">Start-Nr. vergeben</button>
                        <button class="btn btn-danger" ng-click="removeCompetitor(competitor)">LÃ¶schen</button>
                    </span>
                </div>
            </td>
        </tr>
    </table>


</div>

