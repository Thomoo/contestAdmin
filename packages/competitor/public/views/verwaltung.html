<div data-ng-controller="VerwaltungController" data-ng-init="find()">

	<h1>Teilnehmerverwaltung</h1>

    <form>
        <fieldset class="competitor-filter-input-group well well-sm">
            <legend>Filter</legend>
            <table>
                <tr>
                    <td><label for="searchStartNbr">Startnummer</label></td>
                    <td><input type="text" class="input-search-start-nbr form-control" id="searchStartNbr" ng-model="search.startnr"></td>
                    <td><label for="searchTxt">Suchtext</label></td>
                    <td><input type="text" class="input-search-all form-control" id="searchTxt" ng-model="search.$"></td>
                    <td><input class="btn btn-warning" value="Filter zurücksetzen" ng-click="resetSearchForm()" ng-disabled="searchFormEmpty()"></td>
                </tr>
            </table>
        </fieldset>
    </form>

	<br />
	&nbsp;
	<br />


    <table class="table table-bordered table-hover table-striped">
        <tr>
            <th>Start-Nr.</th>
            <th>Name</th>
            <th>Vorname</th>
            <th>Jahrgang</th>
            <th>Geschlecht</th>
            <th>Ort</th>
            <th>Verein</th>
            <th></th>
        </tr>
        <tr ng-repeat="competitor in competitors | filter:search:strict">
            <td>
                  {{ competitor.startnr }}
            </td>
            <td>
                  {{ competitor.name }}
            </td>
            <td>
                  {{ competitor.firstname }}
            </td>
            <td>
                  {{ competitor.birthdate | date:'yyyy' }}
            </td>
            <td>
                  {{ competitor.gender }}
            </td>
            <td>
                  {{ competitor.location }}
            </td>
            <td>
                  {{ competitor.society }}
            </td>
            <td style="white-space: nowrap">
                <div class="buttons" ng-show="!rowform.$visible">
                    <button class="btn btn-info" ng-click="navigateToDetails(competitor)">Editieren</button>
                    <span data-ng-if="true || hasAuthorization(competitor)">
                        <button class="btn btn-success" ng-click="generateStartNbr(competitor)">Start-Nr. vergeben</button>
                        <button class="btn btn-danger" ng-click="removeCompetitor(competitor)">Löschen</button>
                    </span>
                </div>
            </td>
        </tr>
    </table>


</div>

